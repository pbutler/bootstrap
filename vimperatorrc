set activate=quickmark,paste
set visualbell
set complete=sbfh
set defsearch=google
set guioptions=mbBr
"set maxhints=1000
set preload
"set previewheight=20
set showmode
set showstatuslinks
set showtabline=2
set titlestring=Vimperator
set verbose=0
set wildmode=list:full
set urlseparator=,\\s\\s

" start MozRepl
js <<EOF
  if ('@hyperstruct.net/mozlab/mozrepl;1' in Components.classes)
  {
      Components
          .classes['@hyperstruct.net/mozlab/mozrepl;1']
          .getService(Components.interfaces.nsIMozRepl)
          .start(4242);
  }
EOF


:javascript <<EOF
(function(){
var feedPanel = document.createElement('statusbarpanel');
var feedButton = document.getElementById('feed-button');
feedPanel.setAttribute('id','feed-panel-clone');
feedPanel.appendChild(feedButton.cloneNode(true));
feedButton.parentNode.removeChild(feedButton);
document.getElementById('status-bar').insertBefore(feedPanel,document.getElementById('security-button'));
})();
EOF

" select next/previous tab
map <Right> gt
map <Left>  gT
map <C-l>   gt
map <C-h>   gT

" move current tab left/right
map <S-Right> :tabmove! +1<CR>
map <S-Left>  :tabmove! -1<CR>
map <C-L>     :tabmove! +1<CR>
map <C-H>     :tabmove! -1<CR>

autocmd LocationChange .* :js modes.passAllKeys = /www\.google\.com\/reader/.test(buffer.URL)

echo ".vimperatorrc sourced"

" vim: ft=vimperator sw=2 sts=2
